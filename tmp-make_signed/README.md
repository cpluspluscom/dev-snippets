This snippet depends on tmp-identity.

Usage examples:
* http://stackoverflow.com/a/16377818/1959975
* http://ideone.com/uNCPt5

See wiki for documentation.
